# TakeMyGil

トレード送金/受取を補助する FFXIVMinion 用アドオンです。  
Version: `2.1.0`

## 主な機能
- 送金を `1,000,000 gil` 単位で自動分割（最大 `999,999,999`）
- トレード距離まで接近し、移動停止してから処理
- 金額入力/確認/最終確認を自動実行
- チャットログ + 所持ギル差分で送金完了を判定
- 送金中に進捗バーと `Start / Current / Sent` を表示
- 右下にミニ `SEND` / `RECV` ボタン表示

## スクリーンショット仕様
- 送金開始時: 1回目トレード前に撮影（短い遅延あり）
- 送金完了時: 全トレード完了後に撮影（短い遅延あり）
- 中間撮影: 想定トレード回数が11回以上のとき、10回完了ごとに撮影
- 手動停止時: 完了前の停止のみ撮影
- 送金完了後にボタンを戻した場合は追加撮影しません

## 使い方（送金）
1. トレード対象をターゲットします
2. ミニ `SEND` を押してメインUIを開きます
3. 金額を入力（`+1M` / `+10M` / `+100M` / `ALL` 使用可）
4. `SHUT UP AND TAKE MY GIL` を押して開始します

## 使い方（受取）
1. ミニ `RECV` で受取監視をON/OFFします
2. ON中はトレード確認系ダイアログを自動処理します
3. ON中は `RECV ON. SEND LOCKED.` が表示されます

## スクショ結合バッチ（任意）
`merge_screenshots.bat` / `merge_screenshots.ps1` をスクショ保存フォルダに置いて実行します。

- 対象: 実行フォルダ直下の `.png/.jpg/.jpeg/.bmp`
- 結合: 最大4枚（先頭1 + 末尾1 + 等間隔の中間2）
- 出力: `merge/merged_yyyyMMdd_HHmmss.jpg`
- 元画像: `archive/` に移動

## 注意
- `SEND` 実行中は `RECV` を開始できません
- ターゲット不一致時は安全のため待機します
- 結果不明なトレードは重複送金防止のため停止します

## インストール
1. `TakeMyGil` フォルダを `LuaMods` に配置  
   `C:\MINIONAPP\Bots\FFXIVMinion64\LuaMods\`
2. Minion メニューで `Reload Lua` を実行
3. 右下にミニボタンが表示されます
